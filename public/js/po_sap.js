function render_po(t){var e=$(".error-po"),a=$("#potables"),d=$("#parentPO"),n=a.find(".loading-tr");n.show();a.find("tbody>tr").not("tbody>tr.loading-tr");a.parent().hide(),$.ajax({url:routes.getPO,type:"GET",dataType:"json",data:{po:t}}).done(function(t){if(t.status)if(0==t.length)e.html(t.data);else{var r=t.length,i=t.data.Poitem.item,o=t.data.Poheader.item;n.hide(),a.parent().show();var p;if(a.find("tbody").html(""),d.find("tbody").html(""),r>1)$.each(i,function(t,e){var d=parseItem(this,t,o.Currency),n=templatePO(d);a.find("tbody").append(n)});else{var m=parseItem(i,0,o.Currency),p=templatePO(m);a.find("tbody").append(p)}var u=ParentPO(t.data);d.find("tbody").append(u),e.html("")}})}function parseItem(t,e,a){var d=t.Quantity*t.NetPrice;return{no:e+1,kode_item:t.PoItem,item:t.ShortText,qty:formatRupiah(t.Quantity),satuan:t.PoUnit,mtu:a,harga:formatRupiah(t.NetPrice),harga_total:formatRupiah(d),keterangan:t.Trackingno,date:t.PriceDate,no_pr:t.PreqNo}}function templatePO(t){var e=t.date,a=e.split("-"),d=a[0],n=a[1],r=a[2];return"<tr>              <td>"+t.no+"</th>              <td>"+t.kode_item+"</th>              <td>"+t.item+"</th>              <td>"+t.qty+"</th>              <td>"+t.satuan+"</th>              <td>"+t.mtu+"</th>              <td>"+t.harga_total+"</th>              <td>"+r+"-"+n+"-"+d+"</th>              <td>"+t.no_pr+"</th>              <td>"+t.keterangan+'</th>          </tr>          \x3c!--<tr>            <td>Nama Approval PO</td>            <td> : </td>            <td>- <input type="hidden" name="po_approval" value=""></td>          </tr>          <tr>            <td>Nama Penandatangan PO</td>            <td> : </td>            <td>- <input type="hidden" name="po_penandatangan" value=""></td>          </tr>--\x3e'}function ParentPO(t){var e=($(".no_po").val(),t.Poheader.item),a=t.VendorInf.item,d=t.UsrInf.item,n=e.CreatDate,r=n.split("-"),i=r[0],o=r[1],p=r[2];return'<tr>            <td width="150">No PO </td>            <td width="10">:</td>            <td>'+e.PoNumber+'<input type="hidden" name="po_no" value="'+e.PoNumber+'"></td>          </tr>          <tr>            <td>Tanggal PO</td>            <td> : </td>            <td>'+p+"-"+o+"-"+i+'<input type="hidden" name="po_date" value="'+i+"-"+o+"-"+p+'"></td>          </tr>          <tr>            <td>Nama Vendor</td>            <td> : </td>            <td>'+a.Lifnr+" - "+a.Name1+" "+a.Stras+" "+a.Ort01+" "+a.Pstlz+'<input type="hidden" name="po_vendor" value="'+a.Lifnr+" - "+a.Name1+" "+a.Stras+" "+a.Ort01+" "+a.Pstlz+'"></td>          </tr>          <tr>            <td>Nama Pembuat/nik</td>            <td> : </td>            <td>'+d.Bname+" - "+d.NameText+'<input type="hidden" name="po_pembuat" value="'+d.NameText+'"><input type="hidden" name="po_nik" value="'+d.NameText+'"></td>          </tr>'}