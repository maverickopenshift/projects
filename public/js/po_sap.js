function render_po(t){var a=$(".error-po"),e=$("#potables"),d=$("#parentPO"),n=e.find(".loading-tr");n.show();e.find("tbody>tr").not("tbody>tr.loading-tr");e.parent().hide(),$.ajax({url:routes.getPO,type:"GET",dataType:"json",data:{po:t}}).done(function(t){if(t.status)if(0==t.length){console.log(t.data);"Unauthorized"==t.data||t.data;a.html("No.PO tidak ditemukan!")}else{var r=t.length,o=t.data.Poitem.item,i=t.data.Poheader.item;n.hide(),e.parent().show();var p;if(e.find("tbody").html(""),d.find("tbody").html(""),r>1)$.each(o,function(t,a){var d=parseItem(this,t,i.Currency),n=templatePO(d);e.find("tbody").append(n)});else{var m=parseItem(o,0,i.Currency),p=templatePO(m);e.find("tbody").append(p)}var u=ParentPO(t.data);d.find("tbody").append(u),a.html("")}})}function parseItem(t,a,e){var d=t.Quantity*t.NetPrice;return{no:a+1,kode_item:t.PoItem,item:t.ShortText,qty:formatRupiah(t.Quantity),satuan:t.PoUnit,mtu:e,harga:formatRupiah(t.NetPrice),harga_total:formatRupiah(d),keterangan:t.Trackingno,date:t.PriceDate,no_pr:t.PreqNo}}function templatePO(t){var a=t.date,e=a.split("-"),d=e[0],n=e[1],r=e[2];return"<tr>              <td>"+t.no+"</th>              <td>"+t.kode_item+"</th>              <td>"+t.item+"</th>              <td>"+t.qty+"</th>              <td>"+t.satuan+"</th>              <td>"+t.mtu+"</th>              <td>"+t.harga_total+"</th>              <td>"+r+"-"+n+"-"+d+"</th>              <td>"+t.no_pr+"</th>              <td>"+t.keterangan+'</th>          </tr>          \x3c!--<tr>            <td>Nama Approval PO</td>            <td> : </td>            <td>- <input type="hidden" name="po_approval" value=""></td>          </tr>          <tr>            <td>Nama Penandatangan PO</td>            <td> : </td>            <td>- <input type="hidden" name="po_penandatangan" value=""></td>          </tr>--\x3e'}function ParentPO(t){var a=($(".no_po").val(),t.Poheader.item),e=t.VendorInf.item,d=t.UsrInf.item,n=a.CreatDate,r=n.split("-"),o=r[0],i=r[1],p=r[2];return'<tr>            <td width="150">No PO </td>            <td width="10">:</td>            <td>'+a.PoNumber+'<input type="hidden" name="po_no" value="'+a.PoNumber+'"></td>          </tr>          <tr>            <td>Tanggal PO</td>            <td> : </td>            <td>'+p+"-"+i+"-"+o+'<input type="hidden" name="po_date" value="'+o+"-"+i+"-"+p+'"></td>          </tr>          <tr>            <td>Nama Vendor</td>            <td> : </td>            <td>'+e.Lifnr+" - "+e.Name1+" "+e.Stras+" "+e.Ort01+" "+e.Pstlz+'<input type="hidden" name="po_vendor" value="'+e.Lifnr+" - "+e.Name1+" "+e.Stras+" "+e.Ort01+" "+e.Pstlz+'"></td>          </tr>          <tr>            <td>Nama Pembuat/nik</td>            <td> : </td>            <td>'+d.Bname+" - "+d.NameText+'<input type="hidden" name="po_pembuat" value="'+d.NameText+'"><input type="hidden" name="po_nik" value="'+d.NameText+'"></td>          </tr>'}